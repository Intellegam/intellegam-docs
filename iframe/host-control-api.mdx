---
title: Host Control API
description: Control the embedded chat IFrame from your application using postMessage
---

# Overview

Control the chat IFrame from your host application using the browser's `postMessage` API.

## Basic Usage

```javascript
const iframe = document.getElementById('chat-iframe');

iframe.contentWindow.postMessage({
  type: "intellegam:host-control",
  action: "send",
  parts: [{ type: "text", text: "Your message" }]
}, "https://your-app.com");
```

## Message Structure

```typescript
{
  type: "intellegam:host-control",
  action: "send" | "append-attachments",
  parts: Array<TextPart | FilePart>
}
```

**Required fields:**
- `type`: Must be `"intellegam:host-control"`
- `action`: Action to perform - see [Action Types](./action-types)
- `parts`: Array of message parts (text and/or file parts)

**Message part types:**
- Text part: `{ type: "text", text: string }`
- File part: `{ type: "file", url: string, mediaType: string, filename?: string }`

See [Action Types](./action-types) for complete part specifications and examples.

## Error Handling

Validation errors are shown to users within the IFrame.

## Related Documentation

- [Action Types](./action-types) - Available actions and examples
- [Query Parameters](./query-params) - URL configuration
- [AI SDK UIMessage](https://ai-sdk.dev/docs/reference/ai-sdk-core/ui-message#fileuipart) - Message format specification
